import{r,S as b,j as e,L as w}from"./app-VKkwl0tG.js";import{A as C}from"./AuthenticatedLayout-nJN-W8bk.js";import"./ApplicationLogo-1dpsmBo4.js";import"./transition-CkefJSgK.js";const M=()=>{const[m,g]=r.useState([]),[s,y]=r.useState(null),[p,u]=r.useState(!0),[j,o]=r.useState(!1),[c,i]=r.useState({title:"",slug:"",content:""}),[l,h]=r.useState({});r.useEffect(()=>{f()},[]);const f=async()=>{try{const t=await b.get(route("admin.pages.index"));g(t.data),u(!1)}catch(t){console.error("Error fetching pages:",t),u(!1)}},k=t=>{y(t)},N=async t=>{var d,n;t.preventDefault(),h({});try{const a=await b.post(route("admin.pages.store"),c);a.data&&(g([...m,a.data]),o(!1),i({title:"",slug:"",content:""}))}catch(a){(n=(d=a.response)==null?void 0:d.data)!=null&&n.errors&&h(a.response.data.errors)}},x=t=>{const{name:d,value:n}=t.target;if(i(a=>({...a,[d]:n})),d==="title"){const a=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");i(v=>({...v,slug:a}))}};return e.jsxs(C,{children:[e.jsx(w,{title:"Pages Management"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:"Pages Management"}),e.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Page"})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"w-1/3 border-r dark:border-gray-700",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Pages"}),p?e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Loading pages..."}):e.jsx("div",{className:"space-y-2",children:m.map(t=>e.jsx("div",{onClick:()=>k(t),className:`p-3 rounded-lg cursor-pointer transition-colors ${(s==null?void 0:s.id)===t.id?"bg-blue-100 dark:bg-blue-900":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.title})},t.id))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900 dark:text-gray-100",children:s?"Page Properties":"Select a page"}),s?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),e.jsx("div",{className:"mt-1 text-gray-900 dark:text-gray-100",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Slug"}),e.jsx("div",{className:"mt-1 text-gray-900 dark:text-gray-100",children:s.slug})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Content"}),e.jsx("div",{className:"mt-1 text-gray-900 dark:text-gray-100",children:s.content})]})]}):e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Select a page from the list to view its properties"})]})]})]})})})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Create New Page"}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:c.title,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),l.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.title[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Slug"}),e.jsx("input",{type:"text",name:"slug",value:c.slug,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),l.slug&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.slug[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Content"}),e.jsx("textarea",{name:"content",value:c.content,onChange:x,rows:"4",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),l.content&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.content[0]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create"})]})]})]})})]})};export{M as default};
